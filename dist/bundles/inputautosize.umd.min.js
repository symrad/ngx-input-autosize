!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/forms","@angular/common"],t):t((e.ng=e.ng||{},e.ng.inputautosize={}),e.core,e.forms,e.common)}(this,function(e,t,n,o){"use strict";var i=function(){return function(e){this.el=e}}();i.decorators=[{type:t.Component,args:[{selector:"div[autosize]",template:'<span style="white-space:pre;" #shadowElement>{{autosizeValue}}</span>',styles:[":host { display:block;position: fixed; visibility:hidden; top: -9999px; left: 0px;}"]}]}],i.ctorParameters=function(){return[{type:t.ElementRef}]},i.propDecorators={autosizeValue:[{type:t.Input,args:["autosizeValue"]}],shadowElement:[{type:t.ViewChild,args:["shadowElement"]}]};var r=function(){function e(e,t,n,o){this.resolver=e,this.element=t,this.vc=n,this.ngControl=o,this.supportedInputTypes=["text","search","tel","url","email","password","number"],this.cssProps=["fontSize","fontFamily","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","boxSizing","borderLeftWidth","borderRightWidth","borderLeftStyle","borderRightStyle","paddingLeft","paddingRight","marginLeft","marginRight"],this.placeholder=""}return e.prototype.onInput=function(e){this.adjust()},e.prototype.ngOnInit=function(){var e=this,t=this.resolver.resolveComponentFactory(i);this.autosizeComponent=this.vc.createComponent(t).instance,this.placeholderAutoSizeComponent=this.vc.createComponent(t).instance;for(var n=0,o=this.cssProps;n<o.length;n++){var r=o[n];this.element.nativeElement.currentStyle?(this.autosizeComponent.shadowElement.nativeElement.style[r]=this.element.nativeElement.currentStyle[r],this.placeholderAutoSizeComponent.shadowElement.nativeElement.style[r]=this.element.nativeElement.currentStyle[r]):window.getComputedStyle&&(this.autosizeComponent.shadowElement.nativeElement.style[r]=getComputedStyle(this.element.nativeElement)[r],this.placeholderAutoSizeComponent.shadowElement.nativeElement.style[r]=getComputedStyle(this.element.nativeElement)[r])}this.ngControl.valueChanges&&this.ngControl.valueChanges.subscribe(function(t){e.autosizeComponent.autosizeValue=e.element.nativeElement.value,e.element.nativeElement.placeholder&&(e.placeholder=e.element.nativeElement.placeholder),e.placeholderAutoSizeComponent.autosizeValue=e.placeholder})},e.prototype.ngAfterContentChecked=function(){this.adjust()},e.prototype.ngAfterViewChecked=function(){this.adjust()},e.prototype.adjust=function(){this.placeholderAutoSizeComponent.el.nativeElement.offsetWidth>=this.autosizeComponent.el.nativeElement.offsetWidth&&!this.ngControl.value?this.element.nativeElement.style.width=this.placeholderAutoSizeComponent.el.nativeElement.offsetWidth+"px":this.element.nativeElement.style.width=this.autosizeComponent.el.nativeElement.offsetWidth+"px"},e}();r.decorators=[{type:t.Directive,args:[{selector:"input[autosize]"}]}],r.ctorParameters=function(){return[{type:t.ComponentFactoryResolver},{type:t.ElementRef},{type:t.ViewContainerRef},{type:n.NgControl}]},r.propDecorators={onInput:[{type:t.HostListener,args:["input",["$event.target"]]}]};var s=function(){return function(){}}();s.decorators=[{type:t.NgModule,args:[{declarations:[r,i],imports:[o.CommonModule,n.FormsModule],exports:[r,i],entryComponents:[i]}]}],s.ctorParameters=function(){return[]},e.AutosizeComponent=i,e.AutosizeDirective=r,e.AutosizeInputModule=s,Object.defineProperty(e,"__esModule",{value:!0})});